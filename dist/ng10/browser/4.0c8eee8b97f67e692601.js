(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{vwlc:function(t,e,s){"use strict";s.r(e),s.d(e,"ChatBotModule",(function(){return E}));var n=s("ofXK"),i=s("tyNb"),r=s("XNiG"),o=s("7o/Q"),c=s("HDdC"),h=s("quSY"),a=s("3N8a");class u extends a.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,e,s):t.flush(this)}}var b=s("IjjT");class l extends b.a{}const d=new l(u);var p=s("WMd4");class f extends o.a{constructor(t,e,s=0){super(t),this.scheduler=e,this.delay=s}static dispatch(t){const{notification:e,destination:s}=t;e.observe(s),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(f.dispatch,this.delay,new _(t,this.destination)))}_next(t){this.scheduleMessage(p.a.createNext(t))}_error(t){this.scheduleMessage(p.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(p.a.createComplete()),this.unsubscribe()}}class _{constructor(t,e){this.notification=t,this.destination=e}}var w=s("9ppp"),g=s("Ylt2");class y extends r.b{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new m(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,i=s.length;let r;if(this.closed)throw new w.a;if(this.isStopped||this.hasError?r=h.a.EMPTY:(this.observers.push(t),r=new g.a(this,t)),n&&t.add(t=new f(t,n)),e)for(let o=0;o<i&&!t.closed;o++)t.next(s[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(s[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||d).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,n=this._events,i=n.length;let r=0;for(;r<i&&!(t-n[r].time<s);)r++;return i>e&&(r=Math.max(r,i-e)),r>0&&n.splice(0,r),n}}class m{constructor(t,e){this.time=t,this.value=e}}const v={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class S extends r.a{constructor(t,e){if(super(),t instanceof c.a)this.destination=e,this.source=t;else{const e=this._config=Object.assign({},v);if(this._output=new r.b,"string"==typeof t)e.url=t;else for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);if(!e.WebSocketCtor&&WebSocket)e.WebSocketCtor=WebSocket;else if(!e.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new y}}lift(t){const e=new S(this._config,this.destination);return e.operator=t,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new y),this._output=new r.b}multiplex(t,e,s){const n=this;return new c.a(i=>{try{n.next(t())}catch(o){i.error(o)}const r=n.subscribe(t=>{try{s(t)&&i.next(t)}catch(o){i.error(o)}},t=>i.error(t),()=>i.complete());return()=>{try{n.next(e())}catch(o){i.error(o)}r.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:t,protocol:e,url:s,binaryType:n}=this._config,i=this._output;let r=null;try{r=e?new t(s,e):new t(s),this._socket=r,n&&(this._socket.binaryType=n)}catch(a){return void i.error(a)}const c=new h.a(()=>{this._socket=null,r&&1===r.readyState&&r.close()});r.onopen=t=>{const{_socket:e}=this;if(!e)return r.close(),void this._resetState();const{openObserver:s}=this._config;s&&s.next(t);const n=this.destination;this.destination=o.a.create(e=>{if(1===r.readyState)try{const{serializer:t}=this._config;r.send(t(e))}catch(t){this.destination.error(t)}},t=>{const{closingObserver:e}=this._config;e&&e.next(void 0),t&&t.code?r.close(t.code,t.reason):i.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:t}=this._config;t&&t.next(void 0),r.close(),this._resetState()}),n&&n instanceof y&&c.add(n.subscribe(this.destination))},r.onerror=t=>{this._resetState(),i.error(t)},r.onclose=t=>{this._resetState();const{closeObserver:e}=this._config;e&&e.next(t),t.wasClean?i.complete():i.error(t)},r.onmessage=t=>{try{const{deserializer:e}=this._config;i.next(e(t))}catch(e){i.error(e)}}}_subscribe(t){const{source:e}=this;return e?e.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(()=>{const{_socket:t}=this;0===this._output.observers.length&&(t&&1===t.readyState&&t.close(),this._resetState())}),t)}unsubscribe(){const{_socket:t}=this;t&&1===t.readyState&&t.close(),this._resetState(),super.unsubscribe()}}var x=s("fXoL"),I=s("2Rin");function k(t,e){if(1&t){const t=x.Lb();x.Kb(0,"button",5),x.Rb("click",(function(){x.Wb(t);const e=x.Tb().$implicit;return x.Tb(2).getAnswers(e._id)})),x.bc(1,"Select"),x.Jb()}}function T(t,e){if(1&t&&(x.Kb(0,"li"),x.Ib(1,"p",3),x.ac(2,k,2,0,"button",4),x.Ib(3,"br"),x.Ib(4,"br"),x.Jb()),2&t){const t=e.$implicit;x.xb(1),x.Ub("innerHTML",t.data,x.Xb),x.xb(1),x.Ub("ngIf","link"==t.type)}}function A(t,e){if(1&t&&(x.Kb(0,"div"),x.Kb(1,"ul"),x.ac(2,T,5,2,"li",1),x.Kb(3,"li"),x.Kb(4,"p"),x.bc(5," Go to live chat "),x.Jb(),x.Kb(6,"a",2),x.bc(7,"Live Chat"),x.Jb(),x.Ib(8,"br"),x.Ib(9,"br"),x.Jb(),x.Jb(),x.Jb()),2&t){const t=x.Tb();x.xb(2),x.Ub("ngForOf",t.chatAnsArray)}}const W=[{path:"",component:(()=>{class t{constructor(t){var e;this._Helpers=t,this.subject=(e=this._Helpers.getWebSocketBaseUrl(),new S(e)),this.chatAnsArray=[]}ngOnInit(){this.getAnswers("init")}getAnsArrays(t){this.chatAnsArray=t}openLiveChat(){}getAnswers(t){this.subject.next({event:"events",data:{id:t}}),console.log("new message from client to websocket: "),this.subject.subscribe(t=>this.getAnsArrays(t),t=>console.log(t),()=>console.log("complete"))}}return t.\u0275fac=function(e){return new(e||t)(x.Hb(I.a))},t.\u0275cmp=x.Bb({type:t,selectors:[["app-chat-bot"]],decls:3,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["type","btn","routerLink","/signin",1,"btn","btn-success"],[3,"innerHTML"],["type","btn","class","btn btn-secondary",3,"click",4,"ngIf"],["type","btn",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(x.Kb(0,"h1"),x.bc(1," Welcome to Chat-bot Application. "),x.Jb(),x.ac(2,A,10,1,"div",0)),2&t&&(x.xb(2),x.Ub("ngIf",e.chatAnsArray&&e.chatAnsArray.length))},directives:[n.i,n.h,i.a],styles:[""]}),t})()}];let N=(()=>{class t{}return t.\u0275mod=x.Fb({type:t}),t.\u0275inj=x.Eb({factory:function(e){return new(e||t)},imports:[[i.b.forChild(W)],i.b]}),t})(),E=(()=>{class t{}return t.\u0275mod=x.Fb({type:t}),t.\u0275inj=x.Eb({factory:function(e){return new(e||t)},providers:[],imports:[[n.b,N]]}),t})()}}]);